(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(46),c=n.n(o),i=n(124),u=n(2),l=(n(62),n(127)),s=n(71),d=n(123),m=n(128),p=n(8),h=n(9),g=n(11),f=n(10),b=n(12),v=function(e){return function(t){function n(){var e,t;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(a)))).state={component:null},t}return Object(b.a)(n,t),Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;e().then(function(e){t.setState({component:e.default})})}},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):null}}]),n}(r.Component)},E=n(21),_=n(47),k=n.n(_),O=n(27),j=n.n(O),w=n(48),B=n.n(w),y=n(49),I=n.n(y),C=function(e){return a.a.createElement("div",{className:B.a.Logo,style:{height:e.height}},a.a.createElement("img",{src:I.a,alt:"MyBurger"}))},S=n(50),x=n.n(S),N=n(126),T=n(32),L=n.n(T),D=function(e){return a.a.createElement("li",{className:L.a.NavigationItem},a.a.createElement(N.a,{to:e.link,exact:e.exact,activeClassName:L.a.active},e.children))},A=function(e){return a.a.createElement("ul",{className:x.a.NavigationItems},a.a.createElement(D,{link:"/",exact:!0},"Burger Builder"),e.isAuthenticated?a.a.createElement(D,{link:"/orders"},"Orders"):null,e.isAuthenticated?a.a.createElement(D,{link:"/logout"},"Logout"):a.a.createElement(D,{link:"/auth"},"Authenticate"))},M=n(72),R=n.n(M),F=function(e){return a.a.createElement("div",{onClick:e.clicked,className:R.a.DrawerToggle},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},P=function(e){return a.a.createElement("header",{className:j.a.Toolbar},a.a.createElement(F,{clicked:e.drawerToggleClicked}),a.a.createElement("div",{className:j.a.Logo},a.a.createElement(C,null)),a.a.createElement("nav",{className:j.a.DesktopOnly},a.a.createElement(A,{isAuthenticated:e.isAuth})))},q=n(18),U=n.n(q),Y=n(25),W=function(e){var t=[U.a.SideDrawer,U.a.Close];return e.open&&(t=[U.a.SideDrawer,U.a.Open]),a.a.createElement(r.Fragment,null,a.a.createElement(Y.a,{show:e.open,clicked:e.closed}),a.a.createElement("div",{className:t.join(" "),onClick:e.closed},a.a.createElement("div",{className:U.a.Logo},a.a.createElement(C,null)),a.a.createElement("nav",null,a.a.createElement(A,{isAuthenticated:e.isAuth}))))},z=function(e){var t=Object(u.e)(function(e){return null!==e.auth.token}),n=Object(r.useState)(!1),o=Object(E.a)(n,2),c=o[0],i=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(P,{isAuth:t,drawerToggleClicked:function(){i(!c)}}),a.a.createElement(W,{isAuth:t,open:c,closed:function(){i(!1)}}),a.a.createElement("main",{className:k.a.Content},e.children))},H=n(15),X=n(13),G=n(45),J=n(34),Z=n.n(J),K=n(20),V=n.n(K),Q=function(e){return a.a.createElement("div",{className:V.a.BuildControl},a.a.createElement("div",{className:V.a.Label},e.label),a.a.createElement("button",{className:V.a.Less,onClick:e.removed,disabled:e.disabled},"Less"),a.a.createElement("button",{className:V.a.More,onClick:e.added},"More"))},$=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],ee=function(e){return a.a.createElement("div",{className:Z.a.BuildControls},a.a.createElement("p",null,"Current Price: ",a.a.createElement("strong",null,e.price.toFixed(2))),$.map(function(t){return a.a.createElement(Q,{key:t.label,label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},disabled:e.disabled[t.type]})}),a.a.createElement("button",{className:Z.a.OrderButton,disabled:!e.purchaseable,onClick:e.ordered},e.isAuth?"ORDER NOW":"SIGN UP TO ORDER"))},te=n(26),ne=n(30),re=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map(function(t){return a.a.createElement("li",{key:t},a.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.props.ingredients[t])});return a.a.createElement(r.Fragment,null,a.a.createElement("h3",null,"Your Order"),a.a.createElement("p",null,"A delicious burger with the following ingredients:"),a.a.createElement("ul",null,t),a.a.createElement("p",null,a.a.createElement("strong",null,"Total Price: ",this.props.price.toFixed(2))),a.a.createElement("p",null,"Continue to Checkout?"),a.a.createElement(ne.a,{btnType:"Danger",clicked:this.props.purchaseCancelled},"CANCEL"),a.a.createElement(ne.a,{btnType:"Success",clicked:this.props.purchaseContinued},"CONTINUE"))}}]),t}(r.Component),ae=n(36),oe=n(37),ce=Object(oe.a)(function(e){var t=Object(r.useState)(!1),n=Object(E.a)(t,2),o=n[0],c=n[1],i=Object(u.e)(function(e){return e.burgerBuilder.ingredients}),l=Object(u.e)(function(e){return e.burgerBuilder.totalPrice}),s=Object(u.e)(function(e){return e.burgerBuilder.error}),d=Object(u.e)(function(e){return null!==e.auth.token}),m=Object(u.d)(function(e){return e.burgerBuilder.initIngredients}),p=Object(u.d)(function(e){return e.burgerBuilder.addIngredient}),h=Object(u.d)(function(e){return e.burgerBuilder.removeIngredient}),g=Object(u.d)(function(e){return e.order.purchaseInit}),f=Object(u.d)(function(e){return e.auth.setAuthRedirectPath});Object(r.useEffect)(function(){m()},[]);var b=function(){c(!1)},v=Object(H.a)({},i);for(var _ in v)v[_]=v[_]<=0;var k,O=null,j=s?a.a.createElement("p",null,"Ingredients can't be loaded"):a.a.createElement(ae.a,null);return i&&(j=a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,{ingredients:i}),a.a.createElement(ee,{price:l,ingredientAdded:p,ingredientRemoved:h,disabled:v,purchaseable:(k=i,Object.keys(k).map(function(e){return k[e]}).reduce(function(e,t){return e+t},0)>0),isAuth:d,ordered:function(){d?c(!0):(f("/checkout"),e.history.push("/auth"))}})),O=a.a.createElement(re,{ingredients:i,price:l,purchaseCancelled:b,purchaseContinued:function(){g(),e.history.push("/checkout")}})),a.a.createElement(a.a.Fragment,null,a.a.createElement(te.a,{show:o,modalClosed:b},O),j)},X.a),ie=function(){var e=Object(u.d)(function(e){return e.auth.logout});return Object(r.useEffect)(function(){e()}),a.a.createElement(d.a,{to:"/"})},ue=v(function(){return n.e(1).then(n.bind(null,125))}),le=v(function(){return n.e(2).then(n.bind(null,129))}),se=v(function(){return n.e(3).then(n.bind(null,122))}),de=Object(m.a)(function(){var e=Object(u.e)(function(e){return null!==e.auth.token}),t=Object(u.d)(function(e){return e.auth.authCheckState});Object(r.useEffect)(function(){t()});var n=a.a.createElement(l.a,null,a.a.createElement(s.a,{path:"/auth",component:se}),a.a.createElement(s.a,{path:"/",exact:!0,component:ce}),a.a.createElement(d.a,{to:"/"}));return e&&(n=a.a.createElement(l.a,null,a.a.createElement(s.a,{path:"/checkout",component:ue}),a.a.createElement(s.a,{path:"/orders",component:le}),a.a.createElement(s.a,{path:"/logout",component:ie}),a.a.createElement(s.a,{path:"/auth",component:se}),a.a.createElement(s.a,{path:"/",exact:!0,component:ce}),a.a.createElement(d.a,{to:"/"}))),a.a.createElement("div",null,a.a.createElement(z,null,n))}),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var he=n(7),ge=n.n(he),fe=n(17),be=n(19),ve={salad:.5,bacon:.7,cheese:.4,meat:1.3},Ee={ingredients:null,totalPrice:4,error:!1,building:!0,addIngredient:function(e,t){e.ingredients=Object(H.a)({},e.ingredients,Object(be.a)({},t,e.ingredients[t]+1)),e.totalPrice+=ve[t],e.building=!0},removeIngredient:function(e,t){e.ingredients=Object(H.a)({},e.ingredients,Object(be.a)({},t,e.ingredients[t]-1)),e.totalPrice-=ve[t],e.building=!0},setIngredients:function(e,t){e.ingredients=t,e.totalPrice=4,e.error=!1,e.building=!1},fetchIngredientsFailed:function(e){e.error=!0},initIngredients:Object(u.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t){var n;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/ingredients.json");case 3:n=e.sent,t.burgerBuilder.setIngredients(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.burgerBuilder.fetchIngredientsFailed();case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())},_e={orders:[],loading:!1,purchased:!1,purchaseInit:function(e,t){e.purchased=!1},setLoading:function(e,t){e.loading=t},purchaseBurgerSuccess:function(e,t){var n=t.orderId,r=t.orderData,a=Object(H.a)({},r,{id:n});e.loading=!1,e.purchased=!0,e.orders=e.orders.concat(a)},purchaseBurger:Object(u.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t,n){var r,a,o;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,a=n.orderData,t.order.setLoading(!0),e.prev=2,e.next=5,X.a.post("/orders.json?auth="+r,a);case 5:o=e.sent,t.order.purchaseBurgerSuccess({orderId:o.data.name,orderData:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.order.setLoading(!1);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,n){return e.apply(this,arguments)}}()),fetchOrdersSuccess:function(e,t){e.loading=!1,e.orders=t},fetchOrders:Object(u.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t,n){var r,a,o,c,i,u;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,a=n.userId,t.order.setLoading(!0),o="?auth="+r+'&orderBy="userId"&equalTo="'+a+'"',e.prev=3,e.next=6,X.a.get("/orders.json"+o);case 6:for(u in c=e.sent,i=[],c.data)i.push(Object(H.a)({},c.data[u],{id:u}));t.order.fetchOrdersSuccess(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t.order.setLoading(!1);case 15:case"end":return e.stop()}},e,this,[[3,12]])}));return function(t,n){return e.apply(this,arguments)}}())},ke={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/",authStart:function(e){e.loading=!0,e.error=null},authSuccess:function(e,t){var n=t.idToken,r=t.userId;e.token=n,e.userId=r,e.error=null,e.loading=!1},authFail:function(e,t){e.error=t,e.loading=!1},authLogout:function(e){e.token=null,e.userId=null},setAuthRedirectPath:function(e,t){e.authRedirectPath=t},logout:Object(u.c)(function(e){localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),e.auth.authLogout()}),checkAuthTimeout:Object(u.c)(function(e,t){setTimeout(function(){e.auth.logout()},1e3*t)}),authUser:Object(u.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t,n){var r,a,o,c;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.auth.authStart(),r={email:n.email,password:n.password,returnSecureToken:!0},a="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyCqSZr6RibUy5-fBM0YvGo4g-YxvhLo7-4",n.isSignup||(a="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCqSZr6RibUy5-fBM0YvGo4g-YxvhLo7-4"),e.prev=4,e.next=7,X.a.post(a,r);case 7:o=e.sent,c=new Date((new Date).getTime()+1e3*o.data.expiresIn),localStorage.setItem("token",o.data.idToken),localStorage.setItem("expirationDate",c),localStorage.setItem("userId",o.data.localId),t.auth.authSuccess({idToken:o.data.idToken,userId:o.data.localId}),t.auth.checkAuthTimeout(o.data.expiresIn),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),t.auth.authFail(e.t0.response.data.error);case 19:case"end":return e.stop()}},e,this,[[4,16]])}));return function(t,n){return e.apply(this,arguments)}}()),authCheckState:Object(u.c)(function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n>new Date){var r=localStorage.getItem("userId");e.auth.authSuccess({idToken:t,userId:r}),e.auth.checkAuthTimeout((n.getTime()-(new Date).getTime())/1e3)}else e.auth.logout()}else e.auth.logout()})},Oe=Object(u.b)({burgerBuilder:Ee,order:_e,auth:ke}),je=a.a.createElement(u.a,{store:Oe},a.a.createElement(i.a,null,a.a.createElement(de,null)));c.a.render(je,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/burger-builder-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/burger-builder-react","/service-worker.js");me?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):pe(e)})}}()},13:function(e,t,n){"use strict";var r=n(75),a=n.n(r).a.create({baseURL:"https://react-burger-3208c.firebaseio.com/"});t.a=a},14:function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__3B3Yz",BreadTop:"BurgerIngredient_BreadTop__1zN7A",Seeds1:"BurgerIngredient_Seeds1__3tHa9",Seeds2:"BurgerIngredient_Seeds2__2sldf",Meat:"BurgerIngredient_Meat__36xgT",Cheese:"BurgerIngredient_Cheese__2nVRR",Salad:"BurgerIngredient_Salad__3YrgE",Bacon:"BurgerIngredient_Bacon__A00M7"}},18:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__1Equm",Open:"SideDrawer_Open__1dgf5",Close:"SideDrawer_Close__MXxC8",Logo:"SideDrawer_Logo__1bwT2"}},20:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__u5enc",Label:"BuildControl_Label__3p4qY",Less:"BuildControl_Less__1io-H",More:"BuildControl_More__m-A6o"}},25:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(73),c=n.n(o);t.a=function(e){return e.show?a.a.createElement("div",{className:c.a.Backdrop,onClick:e.clicked}):null}},26:function(e,t,n){"use strict";var r=n(8),a=n(9),o=n(11),c=n(10),i=n(12),u=n(0),l=n.n(u),s=n(53),d=n.n(s),m=n(25),p=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return l.a.createElement(u.Fragment,null,l.a.createElement(m.a,{show:this.props.show,clicked:this.props.modalClosed}),l.a.createElement("div",{className:d.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(u.Component);t.a=p},27:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__kA046",Logo:"Toolbar_Logo__bozME",DesktopOnly:"Toolbar_DesktopOnly__2ReHI"}},30:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(35),c=n.n(o);t.a=function(e){return a.a.createElement("button",{disabled:e.disabled,className:[c.a.Button,c.a[e.btnType]].join(" "),onClick:e.clicked},e.children)}},32:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__3cTLT",active:"NavigationItem_active__BqM7u"}},34:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__3cOC8",OrderButton:"BuildControls_OrderButton__1sKSl",enable:"BuildControls_enable__3sfdZ"}},35:function(e,t,n){e.exports={Button:"Button_Button__6FhjK",Success:"Button_Success__1Vorv",Danger:"Button_Danger__3p5qJ"}},36:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(54),c=n.n(o);t.a=function(){return a.a.createElement("div",{className:c.a.Loader},"Loading...")}},37:function(e,t,n){"use strict";var r=n(8),a=n(9),o=n(11),c=n(10),i=n(12),u=n(0),l=n.n(u),s=n(26);t.a=function(e,t){return function(n){function d(){var e,t;Object(r.a)(this,d);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(c.a)(d)).call.apply(e,[this].concat(a)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(i.a)(d,n),Object(a.a)(d,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){return e.setState({error:null}),t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return l.a.createElement(u.Fragment,null,l.a.createElement(s.a,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),l.a.createElement(e,this.props))}}]),d}(u.Component)}},45:function(e,t,n){"use strict";var r=n(56),a=n(0),o=n.n(a),c=n(52),i=n.n(c),u=n(8),l=n(9),s=n(11),d=n(10),m=n(12),p=n(1),h=n.n(p),g=n(14),f=n.n(g),b=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=null;switch(this.props.type){case"bread-bottom":e=o.a.createElement("div",{className:f.a.BreadBottom});break;case"bread-top":e=o.a.createElement("div",{className:f.a.BreadTop},o.a.createElement("div",{className:f.a.Seeds1}),o.a.createElement("div",{className:f.a.Seeds2}));break;case"meat":e=o.a.createElement("div",{className:f.a.Meat});break;case"cheese":e=o.a.createElement("div",{className:f.a.Cheese});break;case"bacon":e=o.a.createElement("div",{className:f.a.Bacon});break;case"salad":e=o.a.createElement("div",{className:f.a.Salad});break;default:e=null}return e}}]),t}(a.Component);b.propType={type:h.a.string.isRequired};var v=b;t.a=function(e){var t=Object.keys(e.ingredients).map(function(t){return Object(r.a)(Array(e.ingredients[t])).map(function(e,n){return o.a.createElement(v,{key:t+n,type:t})})}).reduce(function(e,t){return e.concat(t)},[]);return 0===t.length&&(t=o.a.createElement("p",null,"Please start adding ingredients!")),o.a.createElement("div",{className:i.a.Burger},o.a.createElement(v,{type:"bread-top"}),t,o.a.createElement(v,{type:"bread-bottom"}))}},47:function(e,t,n){e.exports={Content:"Layout_Content__2Xn_f"}},48:function(e,t,n){e.exports={Logo:"Logo_Logo__3iI8c"}},49:function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},50:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__idxik"}},52:function(e,t,n){e.exports={Burger:"Burger_Burger__2WR-3"}},53:function(e,t,n){e.exports={Modal:"Modal_Modal__wHrXM"}},54:function(e,t,n){e.exports={Loader:"Spinner_Loader__3mti3",load2:"Spinner_load2__16jUQ"}},57:function(e,t,n){e.exports=n(109)},62:function(e,t,n){},72:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__3_X-e"}},73:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2Oxu0"}}},[[57,5,4]]]);
//# sourceMappingURL=main.a32ecc24.chunk.js.map