(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(46),c=n.n(o),i=n(124),l=n(2),u=(n(62),n(127)),s=n(71),d=n(123),m=n(128),p=n(13),h=n(14),g=n(16),f=n(15),b=n(17),v=function(e){return function(t){function n(){var e,t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(g.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={component:null},t}return Object(b.a)(n,t),Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=this;e().then(function(e){t.setState({component:e.default})})}},{key:"render",value:function(){var e=this.state.component;return e?r.a.createElement(e,this.props):null}}]),n}(a.Component)},E=n(21),_=n(47),k=n.n(_),w=n(27),O=n.n(w),B=n(48),j=n.n(B),y=n(49),I=n.n(y),C=function(e){return r.a.createElement("div",{className:j.a.Logo,style:{height:e.height}},r.a.createElement("img",{src:I.a,alt:"MyBurger"}))},S=n(50),T=n.n(S),x=n(126),N=n(32),L=n.n(N),D=function(e){return r.a.createElement("li",{className:L.a.NavigationItem},r.a.createElement(x.a,{to:e.link,exact:e.exact,activeClassName:L.a.active},e.children))},A=function(e){return r.a.createElement("ul",{className:T.a.NavigationItems},r.a.createElement(D,{link:"/",exact:!0},"Burger Builder"),e.isAuthenticated?r.a.createElement(D,{link:"/orders"},"Orders"):null,e.isAuthenticated?r.a.createElement(D,{link:"/logout"},"Logout"):r.a.createElement(D,{link:"/auth"},"Authenticate"))},M=n(72),R=n.n(M),F=function(e){return r.a.createElement("div",{onClick:e.clicked,className:R.a.DrawerToggle},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},P=function(e){return r.a.createElement("header",{className:O.a.Toolbar},r.a.createElement(F,{clicked:e.drawerToggleClicked}),r.a.createElement("div",{className:O.a.Logo},r.a.createElement(C,null)),r.a.createElement("nav",{className:O.a.DesktopOnly},r.a.createElement(A,{isAuthenticated:e.isAuth})))},q=n(18),U=n.n(q),Y=n(25),W=function(e){var t=[U.a.SideDrawer,U.a.Close];return e.open&&(t=[U.a.SideDrawer,U.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" "),onClick:e.closed},r.a.createElement("div",{className:U.a.Logo},r.a.createElement(C,null)),r.a.createElement("nav",null,r.a.createElement(A,{isAuthenticated:e.isAuth}))))},z=function(e){var t=Object(l.e)(function(e){return null!==e.auth.token}),n=Object(a.useState)(!1),o=Object(E.a)(n,2),c=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{isAuth:t,drawerToggleClicked:function(){i(!c)}}),r.a.createElement(W,{isAuth:t,open:c,closed:function(){i(!1)}}),r.a.createElement("main",{className:k.a.Content},e.children))},H=n(10),X=n(8),G=n(45),J=n(34),Z=n.n(J),K=n(20),V=n.n(K),Q=function(e){return r.a.createElement("div",{className:V.a.BuildControl},r.a.createElement("div",{className:V.a.Label},e.label),r.a.createElement("button",{className:V.a.Less,onClick:e.removed,disabled:e.disabled},"Less"),r.a.createElement("button",{className:V.a.More,onClick:e.added},"More"))},$=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],ee=function(e){return r.a.createElement("div",{className:Z.a.BuildControls},r.a.createElement("p",null,"Current Price: ",r.a.createElement("strong",null,e.price.toFixed(2))),$.map(function(t){return r.a.createElement(Q,{key:t.label,label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},disabled:e.disabled[t.type]})}),r.a.createElement("button",{className:Z.a.OrderButton,disabled:!e.purchaseable,onClick:e.ordered},e.isAuth?"ORDER NOW":"SIGN UP TO ORDER"))},te=n(26),ne=n(30),ae=function(e){var t=Object.keys(e.ingredients).map(function(t){return r.a.createElement("li",{key:t},r.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.ingredients[t])});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Your Order"),r.a.createElement("p",null,"A delicious burger with the following ingredients:"),r.a.createElement("ul",null,t),r.a.createElement("p",null,r.a.createElement("strong",null,"Total Price: ",e.price.toFixed(2))),r.a.createElement("p",null,"Continue to Checkout?"),r.a.createElement(ne.a,{btnType:"Danger",clicked:e.purchaseCancelled},"CANCEL"),r.a.createElement(ne.a,{btnType:"Success",clicked:e.purchaseContinued},"CONTINUE"))},re=n(36),oe=n(37),ce=Object(oe.a)(function(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),o=n[0],c=n[1],i=Object(l.e)(function(e){return e.burgerBuilder}),u=i.ingredients,s=i.totalPrice,d=i.error,m=Object(l.e)(function(e){return null!==e.auth.token}),p=Object(l.d)(function(e){return e.burgerBuilder}),h=p.initIngredients,g=p.addIngredient,f=p.removeIngredient,b=Object(l.d)(function(e){return e.order.purchaseInit}),v=Object(l.d)(function(e){return e.auth.setAuthRedirectPath});Object(a.useEffect)(function(){h()},[]);var _=function(){c(!1)},k=Object(H.a)({},u);for(var w in k)k[w]=k[w]<=0;var O,B=null,j=d?r.a.createElement("p",null,"Ingredients can't be loaded"):r.a.createElement(re.a,null);return u&&(j=r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{ingredients:u}),r.a.createElement(ee,{price:s,ingredientAdded:g,ingredientRemoved:f,disabled:k,purchaseable:(O=u,Object.keys(O).map(function(e){return O[e]}).reduce(function(e,t){return e+t},0)>0),isAuth:m,ordered:function(){m?c(!0):(v("/checkout"),e.history.push("/auth"))}})),B=r.a.createElement(ae,{ingredients:u,price:s,purchaseCancelled:_,purchaseContinued:function(){b(),e.history.push("/checkout")}})),r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{show:o,modalClosed:_},B),j)},X.a),ie=function(){var e=Object(l.d)(function(e){return e.auth.logout});return Object(a.useEffect)(function(){e()},[]),r.a.createElement(d.a,{to:"/"})},le=v(function(){return n.e(1).then(n.bind(null,125))}),ue=v(function(){return n.e(2).then(n.bind(null,129))}),se=v(function(){return n.e(3).then(n.bind(null,122))}),de=Object(m.a)(function(){var e=Object(l.e)(function(e){return null!==e.auth.token}),t=Object(l.d)(function(e){return e.auth.authCheckState});Object(a.useEffect)(function(){t()},[]);var n=r.a.createElement(u.a,null,r.a.createElement(s.a,{path:"/auth",component:se}),r.a.createElement(s.a,{path:"/",exact:!0,component:ce}),r.a.createElement(d.a,{to:"/"}));return e&&(n=r.a.createElement(u.a,null,r.a.createElement(s.a,{path:"/checkout",component:le}),r.a.createElement(s.a,{path:"/orders",component:ue}),r.a.createElement(s.a,{path:"/logout",component:ie}),r.a.createElement(s.a,{path:"/auth",component:se}),r.a.createElement(s.a,{path:"/",exact:!0,component:ce}),r.a.createElement(d.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(z,null,n))}),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function pe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var he=n(7),ge=n.n(he),fe=n(12),be=n(19),ve={salad:.5,bacon:.7,cheese:.4,meat:1.3},Ee={ingredients:null,totalPrice:4,error:!1,building:!0,addIngredient:function(e,t){e.ingredients=Object(H.a)({},e.ingredients,Object(be.a)({},t,e.ingredients[t]+1)),e.totalPrice+=ve[t],e.building=!0},removeIngredient:function(e,t){e.ingredients=Object(H.a)({},e.ingredients,Object(be.a)({},t,e.ingredients[t]-1)),e.totalPrice-=ve[t],e.building=!0},setIngredients:function(e,t){e.ingredients=t,e.totalPrice=4,e.error=!1,e.building=!1},fetchIngredientsFailed:function(e){e.error=!0},initIngredients:Object(l.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t){var n;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/ingredients.json");case 3:n=e.sent,t.burgerBuilder.setIngredients(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.burgerBuilder.fetchIngredientsFailed();case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())},_e={orders:[],loading:!1,purchased:!1,purchaseInit:function(e,t){e.purchased=!1},setLoading:function(e,t){e.loading=t},purchaseBurgerSuccess:function(e,t){var n=t.orderId,a=t.orderData,r=Object(H.a)({},a,{id:n});e.loading=!1,e.purchased=!0,e.orders=e.orders.concat(r)},purchaseBurger:Object(l.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t,n){var a,r,o;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token,r=n.orderData,t.order.setLoading(!0),e.prev=2,e.next=5,X.a.post("/orders.json?auth="+a,r);case 5:o=e.sent,t.order.purchaseBurgerSuccess({orderId:o.data.name,orderData:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.order.setLoading(!1);case 12:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,n){return e.apply(this,arguments)}}()),fetchOrdersSuccess:function(e,t){e.loading=!1,e.orders=t},fetchOrders:Object(l.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t,n){var a,r,o,c,i,l;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.token,r=n.userId,t.order.setLoading(!0),o="?auth="+a+'&orderBy="userId"&equalTo="'+r+'"',e.prev=3,e.next=6,X.a.get("/orders.json"+o);case 6:for(l in c=e.sent,i=[],c.data)i.push(Object(H.a)({},c.data[l],{id:l}));t.order.fetchOrdersSuccess(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),t.order.setLoading(!1);case 15:case"end":return e.stop()}},e,this,[[3,12]])}));return function(t,n){return e.apply(this,arguments)}}())},ke={token:null,userId:null,error:null,loading:!1,authRedirectPath:"/",sessionTimeout:null,authStart:function(e){e.loading=!0,e.error=null},authSuccess:function(e,t){var n=t.idToken,a=t.userId;e.token=n,e.userId=a,e.error=null,e.loading=!1},authFail:function(e,t){e.error=t,e.loading=!1},authLogout:function(e){e.token=null,e.userId=null,clearTimeout(e.sessionTimeout)},setAuthRedirectPath:function(e,t){e.authRedirectPath=t},setSessionTimeout:function(e,t){e.sessionTimeout&&clearTimeout(e.sessionTimeout),e.sessionTimeout=t},logout:Object(l.c)(function(e){localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),e.auth.authLogout()}),checkAuthTimeout:Object(l.c)(function(e,t){var n=setTimeout(function(){e.auth.logout()},1e3*t);e.auth.setSessionTimeout(n)}),authUser:Object(l.c)(function(){var e=Object(fe.a)(ge.a.mark(function e(t,n){var a,r,o,c,i,l,u;return ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.email,r=n.password,o=n.isSignup,t.auth.authStart(),c={email:a,password:r,returnSecureToken:!0},i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyCqSZr6RibUy5-fBM0YvGo4g-YxvhLo7-4",o||(i="https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyCqSZr6RibUy5-fBM0YvGo4g-YxvhLo7-4"),e.prev=5,e.next=8,X.a.post(i,c);case 8:l=e.sent,u=new Date((new Date).getTime()+1e3*l.data.expiresIn),localStorage.setItem("token",l.data.idToken),localStorage.setItem("expirationDate",u),localStorage.setItem("userId",l.data.localId),t.auth.authSuccess({idToken:l.data.idToken,userId:l.data.localId}),t.auth.checkAuthTimeout(l.data.expiresIn),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),t.auth.authFail(e.t0.response.data.error);case 20:case"end":return e.stop()}},e,this,[[5,17]])}));return function(t,n){return e.apply(this,arguments)}}()),authCheckState:Object(l.c)(function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n>new Date){var a=localStorage.getItem("userId");e.auth.authSuccess({idToken:t,userId:a}),e.auth.checkAuthTimeout((n.getTime()-(new Date).getTime())/1e3)}else e.auth.logout()}else e.auth.logout()})},we=Object(l.b)({burgerBuilder:Ee,order:_e,auth:ke}),Oe=r.a.createElement(l.a,{store:we},r.a.createElement(i.a,null,r.a.createElement(de,null)));c.a.render(Oe,document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/burger-builder-react",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/burger-builder-react","/service-worker.js");me?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):pe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):pe(e)})}}()},18:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__1Equm",Open:"SideDrawer_Open__1dgf5",Close:"SideDrawer_Close__MXxC8",Logo:"SideDrawer_Logo__1bwT2"}},20:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__u5enc",Label:"BuildControl_Label__3p4qY",Less:"BuildControl_Less__1io-H",More:"BuildControl_More__m-A6o"}},25:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(73),c=n.n(o);t.a=function(e){return e.show?r.a.createElement("div",{className:c.a.Backdrop,onClick:e.clicked}):null}},26:function(e,t,n){"use strict";var a=n(13),r=n(14),o=n(16),c=n(15),i=n(17),l=n(0),u=n.n(l),s=n(53),d=n.n(s),m=n(25),p=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{show:this.props.show,clicked:this.props.modalClosed}),u.a.createElement("div",{className:d.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(l.Component);t.a=p},27:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__kA046",Logo:"Toolbar_Logo__bozME",DesktopOnly:"Toolbar_DesktopOnly__2ReHI"}},30:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(35),c=n.n(o);t.a=function(e){return r.a.createElement("button",{disabled:e.disabled,className:[c.a.Button,c.a[e.btnType]].join(" "),onClick:e.clicked},e.children)}},32:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__3cTLT",active:"NavigationItem_active__BqM7u"}},34:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__3cOC8",OrderButton:"BuildControls_OrderButton__1sKSl",enable:"BuildControls_enable__3sfdZ"}},35:function(e,t,n){e.exports={Button:"Button_Button__6FhjK",Success:"Button_Success__1Vorv",Danger:"Button_Danger__3p5qJ"}},36:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(54),c=n.n(o);t.a=function(){return r.a.createElement("div",{className:c.a.Loader},"Loading...")}},37:function(e,t,n){"use strict";var a=n(13),r=n(14),o=n(16),c=n(15),i=n(17),l=n(0),u=n.n(l),s=n(26);t.a=function(e,t){return function(n){function l(){var e,t;Object(a.a)(this,l);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(c.a)(l)).call.apply(e,[this].concat(r)))).state={error:null},t.errorConfirmedHandler=function(){t.setState({error:null})},t}return Object(i.a)(l,n),Object(r.a)(l,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){return e.setState({error:null}),t}),this.resInterceptor=t.interceptors.response.use(function(e){return e},function(t){e.setState({error:t})})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement(s.a,{show:this.state.error,modalClosed:this.errorConfirmedHandler},this.state.error?this.state.error.message:null),u.a.createElement(e,this.props))}}]),l}(l.Component)}},45:function(e,t,n){"use strict";var a=n(56),r=n(0),o=n.n(r),c=n(52),i=n.n(c),l=n(1),u=n.n(l),s=n(9),d=n.n(s),m=function(e){var t=null;switch(e.type){case"bread-bottom":t=o.a.createElement("div",{className:d.a.BreadBottom});break;case"bread-top":t=o.a.createElement("div",{className:d.a.BreadTop},o.a.createElement("div",{className:d.a.Seeds1}),o.a.createElement("div",{className:d.a.Seeds2}));break;case"meat":t=o.a.createElement("div",{className:d.a.Meat});break;case"cheese":t=o.a.createElement("div",{className:d.a.Cheese});break;case"bacon":t=o.a.createElement("div",{className:d.a.Bacon});break;case"salad":t=o.a.createElement("div",{className:d.a.Salad});break;default:t=null}return t};m.propType={type:u.a.string.isRequired};var p=m;t.a=function(e){var t=Object.keys(e.ingredients).map(function(t){return Object(a.a)(Array(e.ingredients[t])).map(function(e,n){return o.a.createElement(p,{key:t+n,type:t})})}).reduce(function(e,t){return e.concat(t)},[]);return 0===t.length&&(t=o.a.createElement("p",null,"Please start adding ingredients!")),o.a.createElement("div",{className:i.a.Burger},o.a.createElement(p,{type:"bread-top"}),t,o.a.createElement(p,{type:"bread-bottom"}))}},47:function(e,t,n){e.exports={Content:"Layout_Content__2Xn_f"}},48:function(e,t,n){e.exports={Logo:"Logo_Logo__3iI8c"}},49:function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},50:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__idxik"}},52:function(e,t,n){e.exports={Burger:"Burger_Burger__2WR-3"}},53:function(e,t,n){e.exports={Modal:"Modal_Modal__wHrXM"}},54:function(e,t,n){e.exports={Loader:"Spinner_Loader__3mti3",load2:"Spinner_load2__16jUQ"}},57:function(e,t,n){e.exports=n(109)},62:function(e,t,n){},72:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__3_X-e"}},73:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2Oxu0"}},8:function(e,t,n){"use strict";var a=n(75),r=n.n(a).a.create({baseURL:"https://react-burger-3208c.firebaseio.com/"});t.a=r},9:function(e,t,n){e.exports={BreadBottom:"BurgerIngredient_BreadBottom__3B3Yz",BreadTop:"BurgerIngredient_BreadTop__1zN7A",Seeds1:"BurgerIngredient_Seeds1__3tHa9",Seeds2:"BurgerIngredient_Seeds2__2sldf",Meat:"BurgerIngredient_Meat__36xgT",Cheese:"BurgerIngredient_Cheese__2nVRR",Salad:"BurgerIngredient_Salad__3YrgE",Bacon:"BurgerIngredient_Bacon__A00M7"}}},[[57,5,4]]]);
//# sourceMappingURL=main.362db2dd.chunk.js.map